<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Smart Calculator</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin-top: 50px;
        }
        input, button {
            padding: 8px;
            margin: 5px;
        }
        #history {
            margin-top: 20px;
        }
    </style>
</head>
<body>

<h2>Smart Calculator</h2>

<input type="number" id="num1" placeholder="Number 1">
<input type="number" id="num2" placeholder="Number 2"><br>

<button onclick="calculate('+')">+</button>
<button onclick="calculate('-')">-</button>
<button onclick="calculate('*')">*</button>
<button onclick="calculate('/')">/</button>

<h3 id="result"></h3>

<h3>Calculation History (Last 5)</h3>
<div id="history"></div>

<button onclick="clearHistory()">Clear History</button>

<script>
    let history = [];

    function calculate(operator) {
        let n1 = document.getElementById("num1").value;
        let n2 = document.getElementById("num2").value;

        if (n1 === "" || n2 === "") {
            alert("Please enter both numbers");
            return;
        }

        n1 = Number(n1);
        n2 = Number(n2);
        let result;

        if (operator === "/" && n2 === 0) {
            alert("Division by zero is not allowed");
            return;
        }

        if (operator === "+") result = n1 + n2;
        else if (operator === "-") result = n1 - n2;
        else if (operator === "*") result = n1 * n2;
        else if (operator === "/") result = n1 / n2;

        let calculation = `${n1} ${operator} ${n2} = ${result}`;

        history.push(calculation);

        if (history.length > 5) {
            history.shift();
        }

        document.getElementById("result").innerText = "Result: " + result;
        displayHistory();
    }

    function displayHistory() {
        let historyDiv = document.getElementById("history");
        historyDiv.innerHTML = "";

        for (let i = 0; i < history.length; i++) {
            historyDiv.innerHTML += history[i] + "<br>";
        }
    }

    function clearHistory() {
        history = [];
        document.getElementById("history").innerHTML = "";
        document.getElementById("result").innerText = "";
    }
    
</script>
</body>
</html>
